{% extends "base.html" %}
{% load thumbnail %}

{% block title %} {{block.super}} | Scenes{% endblock title %}

{% block content %}
<h3>Scenes</h3>

<p>This is a page listing all the scenes in a chapter. Currently I don't have 
a chapter object, so all this is in a hypothetical chapter "1". Try to imagine one 
"scene" = "page" in a comic book sense. Thus, viewing a scene should start "playing".</p>



<ul>
    {% for scene in object_list %}
        <li>
            {{scene.order}} | {{scene.description}}
            
            <p>
                {% url 'flipbooks:strip-list' scene_pk=scene.pk as strip_url %}
                <form action="{{strip_url}}">
                    <a href="{% url 'flipbooks:strip-list' scene_pk=scene.pk %}">link</a>
                    <button type="submit" class="btn btn-default btn-md">
                      View <span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span>
                     </button>
                </form>
                
                <div class="frame_thumbs stacked">
                    <!-- {- if forloop.counter0  < 2 -}
                        Unfortunately, there is no "break" in Django. 
                        Truncate the _set instead. -->
                    {% for strip in scene.strip_set.all|slice:":5" %}
                        <!--{% cycle 'row1' 'row2' %}-->
                        
                            <!--<img src="{{strip.frame_set.first.frame_image.url}}" height="100px"/>-->
                            <img src="{% thumbnail strip.frame_set.first.frame_image 200x200 autocrop %}"/>
                
                        
                    {% endfor %}
                </div>
                
            </p>
                

        </li>
    {% empty %}
        <p>No strips could be found</p>
    
    {% endfor %}
</ul>


{% endblock content %}